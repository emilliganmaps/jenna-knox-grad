<!DOCTYPE html>
<html>
    
<head>
    <meta charset="utf-8" />
    <title>Jenna's Graduation Map</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css" rel="stylesheet" />
    
    <style>
        
        body{
            margin: 0;
            padding: 0; 
        }
        
        #map{
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%; 
        }
        
    </style>
    
</head>
    
<body>
    
<div id="map"></div>
    
<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiZW1pbGxpZ2FuIiwiYSI6ImNrYTQzYXgzcjA0dmczZm5pMjliMWl0OW4ifQ.hZaHkI6bWwH9PE9655sw8A';
    var map = new mapboxgl.Map({
        container: 'map',   //container id
        style: 'mapbox://styles/emilligan/cka42c6m90zb41jl9cwe17of5',   //stylesheet location
        center: [-157.144, 12.794],    //starting position [lng, lat]
        zoom: 2,  //starting zoom
        minZoom: 2, //minimum zoom level
        maxZoom: 10.5   //maximum zoom level
    });
    
    //disable map rotation using right click + drag
    map.dragRotate.disable();

    //disable map rotation using touch rotation gesture
    map.touchZoomRotate.disableRotation();
    
    map.on('load', function() {
        map.loadImage(
            'images/knoxgrad.png',
            function(error, image) {
                if (error) throw error;
                map.addImage('knox', image);
                map.addSource('point', {
                    'type': 'geojson',
                    'data': {
                        'type': 'FeatureCollection',
                        'features': [
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Mom</strong><p><a href="https://youtu.be/DzSABQH_drw" target="_blank" title="Opens in a new window">Click to see a message from Mom!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.519, 44.079]
                                    }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Dad</strong><p><a href="https://youtu.be/2YbtU_ES0F8" target="_blank" title="Opens in a new window">Click to see a message from Dad!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.507, 44.058]
                                    }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Grandma Ida</strong><p><a href="https://youtu.be/qLbzUfhnO3U" target="_blank" title="Opens in a new window">Click to see a message from Grandma Ida!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-96.405, 42.496]
                                    }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Grandma Bonnie & Grandpa Ted</strong><p><a href="https://youtu.be/hqDUYTEEO5Y" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-88.083, 42.033]
                                    }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Ellie</strong><p><a href="https://youtu.be/-O6kAoVRD8Q" target="_blank" title="Opens in a new window">Click to see a message from Ellie!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.9952, 44.9530]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Josh</strong><p><a href="https://www.knox.edu/commencement-information" target="_blank" title="Opens in a new window">Click to see a message from Josh!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.985, 45.02]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Annie P.</strong><p><a href="https://youtu.be/15om1ltUdyk" target="_blank" title="Opens in a new window">Click to see a message from Annie!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-91.530, 41.661]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Dylan Z.</strong><p><a href="https://www.knox.edu/commencement-information" target="_blank" title="Opens in a new window">Click to see a message from Dylan!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-89.094, 42.271]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Amy, Mike, J, & K</strong><p><a href="https://youtu.be/6Den0_iPeOA" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-96.158, 41.365]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From M&M&M </strong><p><a href="https://youtu.be/udxZzwEZBdU" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-96.321, 42.434]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From C & R</strong><p><a href="https://youtu.be/ye153GXs-MY" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-94.751, 29.330]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Amy & Wayne M.</strong><p><a href="https://youtu.be/SrrMGZEFWoM" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-94.893, 29.251]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Mr. J</strong><p><a href="https://youtu.be/zvdNGkO1NX4" target="_blank" title="Opens in a new window">Click to see a message from Mr. J!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.485, 44.034]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Maggie</strong><p><a href="https://youtu.be/b-MAp3iliMs" target="_blank" title="Opens in a new window">Click to see a message from Maggie!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-93.060, 44.996]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Taryn E.</strong><p><a href="https://youtu.be/hfjOF8OdtXY" target="_blank" title="Opens in a new window">Click to see a message from Taryn!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-105.017, 39.613]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Al & Julie W.</strong><p><a href="https://youtu.be/VazkQa1JrV8" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.455, 44.014]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Carl & Elizabeth O.</strong><p><a href="https://youtu.be/QtyJLhTXAyA" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.468, 44.059]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Rosie M.</strong><p><a href="https://youtu.be/CRFVN1tbSSM" target="_blank" title="Opens in a new window">Click to see a message from Rosie!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-117.351, 33.158]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Katy C.</strong><p><a href="https://youtu.be/295L_c1F2-c" target="_blank" title="Opens in a new window">Click to see a message from Katy!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-87.956, 41.758]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Cindy & Pat C.</strong><p><a href="https://youtu.be/ugL3tMIlI-s" target="_blank" title="Opens in a new window">Click to see their video message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-87.944, 41.777]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Chris W.</strong><p><a href="https://youtu.be/ugL3tMIlI-s" target="_blank" title="Opens in a new window">Click to see a message from Chris!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-90.371, 40.946]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Scott & Mary H.</strong><p><a href="https://youtu.be/ugL3tMIlI-s" target="_blank" title="Opens in a new window">Click to see their video message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.443, 44.037]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Augusto T.</strong><p><a href="https://youtu.be/e4xr1vZJcvs" target="_blank" title="Opens in a new window">Click to see a message from Augusto!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [151.209, -33.869]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Mrs. D.</strong><p><a href="https://youtu.be/TvtEfmPUY78" target="_blank" title="Opens in a new window">Click to see a message from Mrs. D!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.441, 44.077]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Jamie R.</strong><p><a href="https://youtu.be/TvtEfmPUY78" target="_blank" title="Opens in a new window">Click to see a message from Jamie!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.479, 44.088]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Jeff, Denise, Kayleen, & Cody</strong><p><a href="https://youtu.be/ZYEeq2q-n4Q" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-88.045, 42.060]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Brett H.</strong><p><a href="https://youtu.be/jdFcZfLyVhs" target="_blank" title="Opens in a new window">Click to see a message from Brett!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-93.265, 44.978]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Kimberly F.</strong><p><a href="https://youtu.be/dVSk3qPQZGI" target="_blank" title="Opens in a new window">Click to see a message from Kimberly!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-105.960, 32.900]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Jackie M.</strong><p><a href="https://youtu.be/faWFVdj9Hvw" target="_blank" title="Opens in a new window">Click to see a message from Jackie!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-88.013, 44.513]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Jon & Judy K.</strong><p><a href="https://youtu.be/FHgfOz5Y53k" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-92.501, 44.009]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Greg & Michelle Z.</strong><p><a href="https://youtu.be/qZKPmEFBnwQ" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-88.294, 42.166]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Anita & Jim S.</strong><p><a href="https://youtu.be/CLvbmHgTxMM" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-85.648, 30.246]
                                }
                            },
                            {
                                'type': 'Feature',
                                'properties': {
                                    'description':
                                        '<strong>From Gail & Ron L.</strong><p><a href="https://youtu.be/QkqccmxIPgA" target="_blank" title="Opens in a new window">Click to see their message!</a></p>',
                                    'icon': 'knox'
                                },
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [-116.545, 33.830]
                                }
                            }
                        ]
                    }
                });
                map.addLayer({
                    'id': 'points',
                    'type': 'symbol',
                    'source': 'point',
                    'layout': {
                        'icon-image': 'knox',
                        'icon-size': 0.25,
                        'icon-allow-overlap': true
                    }
                });
                
                //when a click event occurs on a feature in the places layer, open a popup at the location of the feature, with description HTML from its properties.
                map.on('click', 'points', function(e) {
                    var coordinates = e.features[0].geometry.coordinates.slice();
                    var description = e.features[0].properties.description;

                    //ensure that if the map is zoomed out such that multiple copies of the feature are visible, the popup appears over the copy being pointed to.
                    while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
                    coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
                    }

                    new mapboxgl.Popup()
                    .setLngLat(coordinates)
                    .setHTML(description)
                    .addTo(map);
                });

                //change the cursor to a pointer when the mouse is over the places layer.
                map.on('mouseenter', 'places', function() {
                    map.getCanvas().style.cursor = 'pointer';
                });

                //change back to pointer
                map.on('mouseleave', 'places', function() {
                    map.getCanvas().style.cursor = '';
                });
            }
        );
    });
</script>

</body>
</html>